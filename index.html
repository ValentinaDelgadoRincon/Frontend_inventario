<!DOCTYPE html>
<html>
  <head>
    <base target="_top" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body onload="initializeApp()">
    <div class="app-container">
      <nav class="sidebar">
        <div class="sidebar-header">
          <h1>Inventario GameVance</h1>
        </div>
        <ul class="nav-menu">
          <li class="nav-item">
            <a class="nav-link active" onclick="showTab('dashboard')">
              <span class="nav-icon">📊</span> Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" onclick="showTab('productos')">
              <span class="nav-icon">📦</span> Nuevo producto
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" onclick="showTab('inventario')">
              <span class="nav-icon">📋</span> Inventario
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" onclick="showTab('buscar')">
              <span class="nav-icon">🔍</span> Buscar
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" onclick="showTab('configuracion')">
              <span class="nav-icon">⚙️</span> Configuración
            </a>
          </li>
        </ul>
      </nav>

      <div class="main-content">
        <!-- DASHBOARD -->
        <div id="dashboard" class="tab-content active">
          <div class="content-header">
            <h2>Dashboard General</h2>
          </div>
          <div class="content-body">
            <div class="stats-grid" id="statsGrid"></div>
            <div class="card">
              <div class="card-header">Alertas de Stock</div>
              <div class="card-body">
                <div class="actions">
                  <button class="btn btn-primary" onclick="loadDashboard()">
                    Actualizar Dashboard
                  </button>
                  <button class="btn btn-warning" onclick="showStockAlerts()">
                    Ver Alertas de Stock
                  </button>
                </div>
                <div id="alertsContainer"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- PRODUCTOS -->
        <div id="productos" class="tab-content">
          <div class="content-header">
            <h2>Gestión de Productos</h2>
          </div>
          <div class="content-body">
            <div class="card">
              <div class="card-header">Registrar Nuevo Producto</div>
              <div class="card-body">
                <form id="formProducto" onsubmit="registrarProducto(event)">
                  <div class="form-grid">
                    <div class="form-group">
                      <label for="codigoProd">Código *</label>
                      <input
                        id="codigoProd"
                        type="text"
                        placeholder="Código único del producto"
                        required
                      />
                    </div>

                    <div class="form-group">
                      <label for="nombreProd">Nombre *</label>
                      <input
                        id="nombreProd"
                        type="text"
                        placeholder="Nombre del producto"
                        required
                      />
                    </div>

                    <div class="form-group">
                      <label for="tipoProd">Tipo *</label>
                      <input
                        id="tipoProd"
                        type="text"
                        placeholder="Categoría o tipo del producto"
                        required
                      />
                    </div>

                    <div class="form-group">
                      <label for="precioProd">Precio *</label>
                      <input
                        id="precioProd"
                        type="number"
                        min="0"
                        step="0.01"
                        placeholder="Precio del producto"
                        required
                      />
                    </div>

                    <div class="form-group">
                      <label for="stockMinProd">Stock Mínimo</label>
                      <input
                        id="stockMinProd"
                        type="number"
                        min="0"
                        value="0"
                      />
                    </div>
                  </div>

                  <div class="actions">
                    <button type="submit" class="btn btn-success">
                      Registrar Producto
                    </button>
                    <button
                      type="button"
                      class="btn btn-secondary"
                      onclick="limpiarFormProducto()"
                    >
                      Limpiar
                    </button>
                  </div>
                </form>
                <div id="msgProd"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- INVENTARIO -->
        <div id="inventario" class="tab-content">
          <div class="content-header">
            <h2>Control de Inventario</h2>
          </div>
          <div class="content-body">
            <div class="card">
              <div class="card-header">Stock Actual</div>
              <div class="card-body">
                <div class="actions">
                  <button class="btn btn-primary" onclick="mostrarStock()">
                    Actualizar Stock
                  </button>
                  <button class="btn btn-success" onclick="exportarStock()">
                    Exportar CSV
                  </button>
                  <button class="btn btn-warning" onclick="mostrarAlertas()">
                    Solo Alertas
                  </button>
                </div>
                <div id="loading" class="loading">Cargando inventario...</div>
                <div class="table-container">
                  <div id="stockTable"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- BUSCAR -->
        <div id="buscar" class="tab-content">
          <div class="content-header">
            <h2>Búsqueda de Productos</h2>
          </div>
          <div class="content-body">
            <div class="card">
              <div class="card-header">Buscar Productos</div>
              <div class="card-body">
                <div class="form-grid">
                  <div class="form-group">
                    <label for="buscarTexto">Buscar por código o nombre</label>
                    <input
                      id="buscarTexto"
                      type="text"
                      placeholder="Escriba para buscar..."
                      onkeyup="buscarEnTiempoReal()"
                    />
                  </div>
                </div>
                <div class="actions">
                  <button class="btn btn-primary" onclick="buscarProducto()">
                    Buscar
                  </button>
                  <button
                    class="btn btn-secondary"
                    onclick="limpiarBusqueda()"
                  >
                    Limpiar
                  </button>
                </div>
                <div class="table-container">
                  <div id="resultadosBusqueda"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- CONFIGURACIÓN -->
        <div id="configuracion" class="tab-content">
          <div class="content-header">
            <h2>Configuración del Sistema</h2>
          </div>
          <div class="content-body">
            <div class="card">
              <div class="card-header">Herramientas de Administración</div>
              <div class="card-body">
                <div class="actions">
                  <button class="btn btn-success" onclick="inicializarSistema()">
                    Inicializar Sistema
                  </button>
                  <button
                    class="btn btn-warning"
                    onclick="limpiarTodosFormularios()"
                  >
                    Limpiar Todo
                  </button>
                  <button class="btn btn-danger" onclick="confirmarReset()">
                    Reset Sistema
                  </button>
                </div>
                <div id="configResults"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
